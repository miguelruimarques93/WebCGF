<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: CGFinterface.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: CGFinterface.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * CGFinterface
 * @constructor
 */
function CGFinterface() {
    this.mouse = vec2.create();
    this.prevMouse = vec2.create();
    this.mouseButtons = [false, false, false];
    this.activeCamera = null;
}

/**
 *
 * @param application {CGFapplication}
 */
CGFinterface.prototype.init = function (application) {
    console.log("Initializing Interface");

    var canvas = application.gl.canvas;
    var self = this;

    canvas.addEventListener("mousedown", function (ev) { ev.preventDefault(); ev.stopPropagation(); self.processMouseDown(ev); } );
    canvas.addEventListener("mouseup", function (ev) { ev.preventDefault(); ev.stopPropagation(); self.processMouseUp(ev); } );
    canvas.addEventListener("mousemove", function (ev) { ev.preventDefault(); ev.stopPropagation(); self.processMouseMove(ev); } );

    return true;
};

CGFinterface.prototype.update = function () {

};

/**
 * setActiveCamera
 * @param camera {CGFcamera}
 */
CGFinterface.prototype.setActiveCamera = function (camera) {
    this.activeCamera = camera;
};

/**
 *
 */
CGFinterface.prototype.processMouse = function () {
    if (this.activeCamera) {
        var displacement = vec2.subtract(vec2.create(), this.mouse, this.prevMouse);

        if (this.mouseButtons[0]) { // pressing Left
            this.activeCamera.rotate(CGFcameraAxis.X, displacement[1] * 0.5 * Math.PI / 180.0);
            this.activeCamera.rotate(CGFcameraAxis.Y, -displacement[0] * 0.5 * Math.PI / 180.0);
        } else if (this.mouseButtons[2]) { // pressing Right
            this.activeCamera.translate([-displacement[0] * 0.05, -displacement[1] * 0.05, 0]);
        } else if (this.mouseButtons[1]) { // pressing middle
            this.activeCamera.translate([0, 0, displacement[1] * 0.05]);
        }
    }
};

/**
 *
 * @param event {Event}
 */
CGFinterface.prototype.processMouseMove = function (event) {
    this.prevMouse[0] = this.mouse[0];
    this.prevMouse[1] = this.mouse[1];
    this.mouse[0] = event.pageX;
    this.mouse[1] = event.pageY;

    this.processMouse();
};

/**
 *
 * @param event {Event}
 */
CGFinterface.prototype.processMouseDown = function (event) {
    var button = event.which; // 1 - left, 2 - middle, 3 - right
    this.mouseButtons[button - 1] = true;

    this.prevMouse[0] = this.mouse[0];
    this.prevMouse[0] = this.mouse[0];
    this.mouse[0] = event.pageX;
    this.mouse[1] = event.pageY;
};

/**
 *
 * @param event {Event}
 */
CGFinterface.prototype.processMouseUp = function (event) {
    var button = event.which; // 1 - left, 2 - middle, 3 - right
    this.mouseButtons[button - 1] = false;

    this.prevMouse[0] = this.mouse[0];
    this.prevMouse[0] = this.mouse[0];
    this.mouse[0] = event.pageX;
    this.mouse[1] = event.pageY;
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CGFapplication.html">CGFapplication</a></li><li><a href="CGFcamera.html">CGFcamera</a></li><li><a href="CGFinterface.html">CGFinterface</a></li><li><a href="CGFobject.html">CGFobject</a></li><li><a href="CGFscene.html">CGFscene</a></li><li><a href="CGFshader.html">CGFshader</a></li><li><a href="MyTable.html">MyTable</a></li></ul><h3>Global</h3><ul><li><a href="global.html#CGFcameraAxis">CGFcameraAxis</a></li><li><a href="global.html#getStringFromUrl">getStringFromUrl</a></li><li><a href="global.html#setProperty">setProperty</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha11</a> on Wed Dec 17 2014 17:58:27 GMT+0000 (GMT Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
